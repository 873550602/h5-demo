<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<script src="../js/mui.min.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="../css/mui.min.css"/>
		<link rel="stylesheet" type="text/css" href="../css/commom.css"/>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<script type="text/javascript">
			(function ($){
				$.init();
				$.plusReady(function (){
					var camera = plus.camera;
					var cm = camera.getCamera(1);
					//拍照
					document.getElementById("start-capture").addEventListener('tap',function (e){
						if(cm){
							cm.captureImage(function (path){
								alert("img path:"+path);
							},function (e){
								alert(e.message);
							},{filename:'_doc/camera/'})
						}else{
							alert('获取设备失败');
						}
					})
					//摄像
					document.getElementById("start-video").addEventListener('tap',function (e){
						if(cm){
							cm.startVideoCapture(function (path){
								alert('video path:'+path);
							},function (e){
								alert(e.message);
							},{filename:'_doc/video/'})
						}else{
							alert('获取设备失败');
						}
					})
				})
			})(mui)
		</script>
		<style type="text/css">
			.btn-group{
				margin: 10px auto;
				padding: 8px 10px;
			}
		</style>
	</head>
	<body>
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">相机</h1>
		</header>
		<div class="mui-content">
		    <div class="btn-group">
		    	<button id="start-capture" type="button" class="mui-btn mui-btn-yellow mui-btn-block">拍照</button>
		    	<button id="start-video" type="button" class="mui-btn mui-btn-yellow mui-btn-block">摄像</button>
		    </div>
		</div>
	</body>
</html>
